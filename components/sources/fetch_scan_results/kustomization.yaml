# DO NOT EDIT. Code generated by:
# github.com/ocurity/dracon//build/tools/kustomize-component-generator.

apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
resources:
  - task.yaml
patches:
  # Add the Task to the Tekton Pipeline.
  - patch: |
      apiVersion: tekton.dev/v1beta1
      kind: Pipeline
      metadata:
        name: unused
      spec:
        workspaces:
          - name: source-code-ws
        tasks:
          - name: wget
            taskRef:
              name: wget
            workspaces:
              - name: source-code-ws
                workspace: source-code-ws
            params:
              - name: wget-url
                value: $(params.wget-url)
              - name: wget-options
                value:
                  - $(params.wget-options)
              - name: wget-filename
                value: $(params.wget-filename)
        params:
          - name: wget-url
            description: The url we want to download file from
            type: string
            default: ""
          - name: wget-options
            description: The arguments to pass to wget
            type: array
            default: []
          - name: wget-filename
            description: The filename we want to change our file to
            type: string
            default: ""
    target:
      kind: Pipeline
  # Add anchors to Task.
  - patch: |
      apiVersion: tekton.dev/v1beta1
      kind: Task
      metadata:
        name: wget
        labels:
          app.kubernetes.io/version: "0.6"
          v1.dracon.ocurity.com/component: source
      spec:
        params:
          - name: anchors
            type: array
            description: A list of tasks that this task depends on using their anchors.
            default: []
        results:
          - name: anchor
            description: An anchor to allow other tasks to depend on this task.
        steps:
          - name: anchor
            image: docker.io/busybox:1.35.0
            script: echo "$(context.task.name)" > "$(results.anchor.path)"
    target:
      kind: Task
      name: wget
